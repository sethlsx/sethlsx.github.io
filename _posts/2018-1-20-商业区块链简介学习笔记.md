---
layout: default
---

<p>{{page.date | date_to_string }}</p>


# 学习笔记：Blockchain for business- An Introduction to Hyperledger Technologies

## Chapter 1. Discovering Blockchain Technologies

### 基本概念
分布式账本技术总体包含三个基本成分：
- 一个刻画目前账本状态的数据模型
- 一种改变账本状态的交易语言
- 一种用于在所有参与方间建立一致的协议，在该协议的基础上交易会按照一定顺序被账本接受。



_重要定义_
根据[hyperledger.org][1]的定义：
> **区块链**：区块链是一种由一致性建立的，结合了智能协议及其他辅助技术系统的点对点分布式账本。
> **智能协议**：智能协议是一种当系统中的某种条件达成后自动执行预定义行为的计算机程序。
> **一致性**：一致性指的是一个各方同意某种系统状态为系统的“真”状态的系统。

一个区块通常由四种元数据组成：
- 一个对前一个区块的引用
- 工作证明，也被称为nonce
- 时间戳
- 一个为该区块中包含的交易建立的Merkle tree根节点

The Merkle tree，也被称为二进制哈希树，是一种用来储存大数据集中独立数据的哈希值，使得对该数据集的验证高效的数据结构。它是一种保证大数据集没有变更的反篡改机制。正如Andreas M. Antonopoulos在比特币协议中所言：
> “Merkle tree用来总括一个区块中的所有交易，并对整个交易集生成一个总括的数码指纹，这样就提供了一种验证某个交易是否在块中的非常有效率的方法。

   ![来自Wikipedia][image-1]
无许可P2P系统不需要一定量的节点在线，并且总体上来说更慢。
许可P2P网络必须保证唤醒时间（uptime），需要高质量的通信链接服务。

以太币区块链平台促进了脚本功能，或者叫“智能协议”。“智能协议”通过网络的节点运行。结果就是，与比特币区块链不同，以太币区块链不仅追踪交易，同时可以为交易编程（program transaction）。技术上讲，以太币体系（Ethereum）是一个图灵完备的虚拟机，同时具有自己的加密货币，称为以太币（ether）。这个平台于2013年由19岁的Vitalik Buterin在一篇白皮书中提出。

### 商业区块链

以下表格对不同商业区块链方案达到一致性的路径的不同考虑、优缺点进行了一个概览：
![][image-2]
![][image-3]
对上图进行了一个简要的翻译。



以下是几个较成熟的商用链：
**Chain Core** 是一个企业许可链系统，专注于金融服务，例如货币、证券、衍生品、礼品卡以及忠诚积分。这家公司与客户合作在客户品牌下启动和运行网络。由于他们与第一资本、花旗银行、Fiserv、纳斯达克、Orange、Visa等公司的合作，他们自2014年以来已经融资了4000万美元以上。其官方链接为：[chain][2]

**R3** 是由超过100家大型全球金融机构组成的联盟。该联盟致力于利用分布式账本技术来记录、管理以及自动执行商业法律合约。为此提出了他们的软件解决方案，称为**Corda**。
**Corda**是一个分布式账本平台，主要特点是一个区块链式的P2P网络。但是，它并非是区块链平台。区块链涉及整个网络上的数据的全域可用性以及第三方的认证者。Corda不同，仅允许交易相关方对信息的获取和认证功能。由于采用了不同的软件架构，Corda在独立交易层面的公司之间达成一致，而不是在整个系统层面达成一致性。同时，Corda支持多种一致性机制。官网为[Corda][3]。

**Quorum**由JP Morgan创造，实际上是以太公用链的一个分支。它使用了一种基于投票的一致性算法来促成一个面向企业的分布式账本和智能合约平台。它的网络中的数据私密性是通过允许在“按需知密”基础上的数据可见性实现的。平台被设计成同时支持“交易层面的私密性和全网层面的透明性“。其网络认证所有的智能合约以及总体系统状态，需要涉及所有正在运行的节点。与其他许可链相同，与监管的兼容性是Quorum平台的中心和首要考虑。

**IOTA**是一种密码学货币，诞生于2015年。根据Martin Rosulek所言：“它是第一种基于无区块的区块链提供了整个生态系统的密码学货币。”，目标是使得机器对机器（M2M）交易成为可能。

### 标准

目前区块链技术尚处于早期，在开发者和商业社区中还没有关于标准的协议。

标准是保证互操作性以及避免碎片化生态系统的关键。标准不仅对于分布式账本本身很重要，同样对于支持服务，比如身份、隐私以及数据治理也很重要。更近一步，对于钥匙（公、私钥）的管理，以及协议以及针对钥匙的丢失和盗窃相关的标准都很重要。

结果，国际区块链及分布式账本技术标准组织（[ISO/TC 307 technical committee][4]）于2016年建立了。该组织已经划定了未来标准制定工作的领域。
![][image-4]

从上图来看，该委员会制定的标准化时间表是：
- 短期：术语与词汇表
- 中期：安全、隐私、数据治理、终端用户身份、互操作性
- 长期：技术层面、溯源

## Chapter 2. Introduction to Hyperledger

Hyperledger是一组开源工程，专注于跨行业分布式账本技术。
Hyperledger的构成如下图：
![][image-5]
从图中可以看到，Hyperledger包含3个部分，基础架构（Infrastructure），框架以及模块，其中基础架构主要指Hyperledger的后台部门（legal，marketing等）。
- 框架：目前有8个框架，其中比较主要的框架有：Fabric, Iroha, Sawtooth, Burrow, Indy.
- 模块：包括Composer, Explorer, Cello.
下表显示了Hyperledger许可链和比特币以及以太币的无许可链的区别。
![][image-6]

Hyperledger框架包括：
- 一个只能增加（append-only）的分布式账本
- 一个用来同意账本中变化的一致性算法
- 通过许可接入进行私密交易
- 用于处理交易请求的智能合约
![][image-7]




## Chapter 3. The Promise of Business Blockchain Technologies

什么时候需要区块链呢？
区块链对于满足以下一条或多条需要的商业应用最适合：
- 有共享通用数据库的需要；
- 流程设计的参与方存在激励冲突，或者在参与方之间没有信任；
- 一个数据库有多方参与或者有多个写入者；
- 现在有一个受信任的第三方参与流程，以促进其他多方之间的交互，这些其他方必须相信这个第三方。这就包括：托管服务、数据提供服务、发放牌照的权威以及公证人；
- 密码学正在被使用或者应当被使用。密码学促进数据保密，数据完整性，权威性以及不可复制性。
- 一个商业流程的数据在整个流程中被导入许多不同的数据库。该数据在不同的实体间是连续的，并且/或者对于该过程的数码化是需要的。
- 系统中的参与者受到统一的规则制约；
- 各方的决策是透明的而不是保密的；
- 有对客观、不可更改的历史或者对各方指定的事实的日志的需求；
- 交易频次不超过10,000次/秒。

下图是一张对于一个商业是否要使用区块链技术的决策图：
![][image-8]



[1]:	hyperledger.org
[2]:	https://chain.com/technology/
[3]:	https://www.corda.net/
[4]:	https://www.iso.org/committee/6266604.html

[image-1]:	DraggedImage.png "比特币区块数据"
[image-2]:	%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-01-20%20%E4%B8%8B%E5%8D%883.26.19.png
[image-3]:	DraggedImage-1.png
[image-4]:	DraggedImage-2.png
[image-5]:	DraggedImage-3.png
[image-6]:	DraggedImage-4.png
[image-7]:	DraggedImage-5.png
[image-8]:	DraggedImage-6.png